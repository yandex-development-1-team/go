telegram_bot_token: "telegram_bot_token"  # будет переопределено BOT_TOKEN
telegram_bot_api_url: "https://api.telegram.org"
postgres_url: "postgres://user:pass@localhost:5432/bot_db"
port: 8080
environment: "dev"
prometheus_port: 9090
log_level: "info"
host_name: "host"

redis:
  addr: "localhost:6379"
  password: ""
  db: 0

  # Пул соединений
  pool_size: 10          # макс. соединений (обычно = кол-во CPU * 2-4)
  min_idle_conns: 2      # держать живыми даже в простое (избегаем cold start)
  max_idle_conns: 5      # макс. idle (остальные закрываются)
  conn_max_idle_time: "5m"   # закрыть idle-соединение после N минут простоя
  conn_max_lifetime: "1h"    # принудительно пересоздать соединение через час

  # Таймауты
  dial_timeout: "5s"     # подключение к Redis
  read_timeout: "3s"     # чтение ответа (включая BLPOP — ставьте -1 для блокирующих команд)
  write_timeout: "3s"    # отправка команды

  # Retry при сетевых ошибках (не при ошибках Redis типа WRONGTYPE)
  max_retries: 3
  min_retry_backoff: "8ms"
  max_retry_backoff: "512ms"

session:
  ttl: "24h"